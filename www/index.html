<!DOCTYPE html>
<html>
    <head>
        <title>cfm: Cactus File Manager</title>
        <style type="text/css">
body{margin:40px auto;max-width:700px;line-height:1.6;font-size:18px;color:#444;padding:0 10px}h1,h2,h3{line-height:1.1}
        </style>
    </head>
    <body>
        <center>
            <h1>cfm: Cactus File Manager</h1>
        </center>
        <h2>Description</h2>
        <p>Cactus File Manager is a simple and fast terminal file manager with
        zero dependencies (apart from a C compiler). It has a sane default
        configuration based on a Vi-inspired set of keybinds. Configuration is
        simple, consisting of a config.h file modified before building, much
        like <a href="https://suckless.org">suckless software</a>.</p>
        <h2>Installing</h2>
        <p>You can build and install cfm from source or install it via a
        package manager (if packaged for your package manager). It is highly
        recommended that you build it yourself, as you can then configure it
        yourself instead of relying on the default configuration.</p>
        <h3>Building from Source</h3>
        <p>To build cfm, download
        <a href="https://github.com/willeccles/cfm">the source</a>
        and use <a href="https://www.gnu.org/software/make/">GNU make</a>
        or a C compiler directly. To install, either copy the cfm binary to
        your desired location or use the makefile to install it.</p>
        <h3>Packages</h3>
        <p>At the moment, cfm is packaged for the following platforms (and not
        necessarily maintained by me):
        <ul>
            <li><a href="https://aur.archlinux.org/packages/cfm/">AUR</a></li>
            <li><a href="https://ports.macports.org/port/cfm/">MacPorts</a></li>
            <li><a href="https://github.com/kisslinux/community/tree/master/community/cfm">KISS</a></li>
        </ul>
        </p>
        <h2>Configuration</h2>
        <p>Before building, copy config.def.h to config.h and modify as
        necessary. All options are explained in the comments. If you do not set
        your editor, shell, or opener in the config file (or you have the
        default config), you can set the environment variables
        <var>$EDITOR</var>, <var>$SHELL</var>, and <var>$OPENER</var>. cfm will
        always look for these at startup if configuration options were not set.
        If these variables are set but you wish for cfm to use something else,
        you can prepend the given variable with <var>$CFM_</var>, and it will
        be used instead. For example, if your <var>$EDITOR</var> is Emacs and
        you want cfm to use Vi, you can use <var>$CFM_EDITOR</var> set to
        Vi. If <var>CD_ON_CLOSE</var> is not defined at compile-time, cfm will
        check for the presence of the <var>$CFM_CD_ON_CLOSE</var> environment
        variable, which should contain the path to a file into which cfm's
        working directory should be written when closed with <kbd>Q</kbd>.</p>
        <h3>Temporary Directory</h3>
        <p>When deleting or cutting files, cfm uses a temporary directory to
        store them. You may specify a custom directory in config.h using the
        <var>CFM_TMP</var> option. If you do not specify one, then cfm will
        first look for the <var>$CFM_TMP</var> environment variable on startup.
        If this is not found, then it will use /tmp/cfmtmp instead. If cfm
        cannot create this directory, then it will disable cut/paste and undo,
        meaning deletion is permanent.</p>
        <h2>Bugs</h2>
        <p>If you come across a bug or have a question/suggestion, please create
        an issue on GitHub.</p>
        <h2>Keybindings</h2>
        <p>The effects of some keys may be different depending on certain options
        in config.h. Also note that the arrow keys may be used in place of
        <kbd>hjkl</kbd>.
        <table>
            <tr>
                <th>Key(s)</th>
                <th>Function</th>
            </tr>
            <tr>
                <td><kbd>q</kbd>, <kbd>Esc</kbd></td>
                <td>Quit cfm</td>
            </tr>
            <tr>
                <td><kbd>Q</kbd></td>
                <td>Quit cfm, saving its working directory to the file
                    specified in <var>CD_ON_CLOSE</var>, if enabled. Disabled
                    by default.</td>
            </tr>
            <tr>
                <td><kbd>h</kbd></td>
                <td>Go up a directory</td>
            </tr>
            <tr>
                <td><kbd>j</kbd></td>
                <td>Move down</td>
            </tr>
            <tr>
                <td><kbd>k</kbd></td>
                <td>Move up</td>
            </tr>
            <tr>
                <td><kbd>l</kbd></td>
                <td>Enter directory, or open file in <var>EDITOR</var></td>
            </tr>
            <tr>
                <td><kbd>dd</kbd></td>
                <td>Delete currently selected file or directory (there is no
                    confirmation, be careful)</td>
            </tr>
            <tr>
                <td><kbd>T</kbd></td>
                <td>Creates a new file, opening <var>EDITOR</var> to obtain a
                    filename</td>
            </tr>
            <tr>
                <td><kbd>M</kbd></td>
                <td>Creates a new directory, opening <var>EDITOR</var> to
                    obtain a directory name</td>
            </tr>
            <tr>
                <td><kbd>R</kbd></td>
                <td>Renames a file, opening <var>EDITOR</var> to edit the
                    filename</td>
            </tr>
            <tr>
                <td><kbd>gg</kbd></td>
                <td>Move to top</td>
            </tr>
            <tr>
                <td><kbd>G</kbd></td>
                <td>Move to bottom</td>
            </tr>
            <tr>
                <td><kbd>m</kbd></td>
                <td>Mark for deletion</td>
            </tr>
            <tr>
                <td><kbd>D</kbd></td>
                <td>Delete marked files (does not touch unmarked files)</td>
            </tr>
            <tr>
                <td><kbd>u</kbd></td>
                <td>Undo the last deletion operation (if cfm was unable to
                    access/create its temp directory, deletion is
                    permanent and this will not work)</td>
            </tr>
            <tr>
                <td><kbd>X</kbd></td>
                <td>Cut the selected file or directory (can be pasted again
                    with <kbd>p</kbd>). Does not work if the tmp directory is
                    not available.</td>
            </tr>
            <tr>
                <td><kbd>yy</kbd></td>
                <td>Copy the selected file or directory (can be pasted again
                    with <kbd>p</kbd>)</td>
            </tr>
            <tr>
                <td><kbd>p</kbd></td>
                <td>Paste the cut or copied file or directory into the current
                    directory, opening <var>EDITOR</var> for a new name if
                    there's a collision.</td>
            </tr>
            <tr>
                <td><kbd>e</kbd></td>
                <td>Open file or directory in <var>EDITOR</var></td>
            </tr>
            <tr>
                <td><kbd>o</kbd></td>
                <td>Open file or directory in <var>OPENER</var></td>
            </tr>
            <tr>
                <td><kbd>S</kbd></td>
                <td>Spawns a <var>SHELL</var> in the current directory</td>
            </tr>
            <tr>
                <td><kbd>r</kbd></td>
                <td>Reload directory</td>
            </tr>
            <tr>
                <td><kbd>.</kbd></td>
                <td>Toggle visibility of hidden files (dotfiles)</td>
            </tr>
            <tr>
                <td><kbd>Return</kbd></td>
                <td>Works like <kbd>o</kbd> if <var>ENTER_OPENS</var> was
                    enabled at compile-time, else works like <kbd>l</kbd></td>
            </tr>
            <tr>
                <td><kbd>Tab</kbd></td>
                <td>Switches to the next view</td>
            </tr>
            <tr>
                <td><kbd>`</kbd></td>
                <td>Switches to the previous view</td>
            </tr>
            <tr>
                <td><kbd>1</kbd>...<kbd>0</kbd></td>
                <td>Switches to view N, up to the number specified by
                    <var>VIEW_COUNT</var> (default 2)</td>
            </tr>
        </table>
        </p>
        <h2>Scripting</h2>
        <p>If either <var>STDIN</var> or <var>STDOUT</var> is not attached to a
        TTY, cfm will run in non-interactive mode, reading commands from
        <var>STDIN</var> until either EOF or no more input is found. This can
        be used to write simple scripts. In scripting mode, cfm does not ever
        draw the screen and any errors are written to <var>STDERR</var> and are
        fatal.</p>
        <h2>License</h2>
        <p>Cactus File Manager (cfm) is released by Will Eccles under the Mozilla Public License version 2.0. For details, see the LICENSE file distributed with the source code.</p>
    </body>
</html>
